<section id="cases" class="section cases-section">
    <div class="section-header">
        <div class="icon-circle">
            <i class="fas fa-tooth"></i>
        </div>
        <h2 class="section-title" data-en="Clinical Cases" data-ar="الحالات السريرية">Clinical Cases</h2>
        <p class="section-subtitle" data-en="Before & After Gallery" data-ar="معرض قبل وبعد">Before & After Gallery</p>
    </div>
    
    <div class="cases-container">

        {{ range $catIndex, $category := .Site.Data.en.clinical_cases }}

            <!-- تجاهل أي قسم غير مُفعل -->
            {{ if or (not (isset $category "enabled")) $category.enabled }}

            <div class="case-category">

                <!-- عنوان القسم -->
                <h3 class="case-category-title"
                    data-en="{{ $category.category }}"
                    data-ar="{{ (index $.Site.Data.ar.clinical_cases $catIndex).category }}">
                    {{ $category.category }}
                </h3>

                <!-- قائمة الحالات -->
                <div class="cases-grid">

                    {{ range $caseIndex, $case := $category.cases }}

                    <div class="case-card">

                        <div class="case-images">

                            <!-- Before Image -->
                            <div class="case-image-wrapper before">
                                <img 
                                    src="{{ print "images/" $case.before | relURL }}"
                                    alt="Before"
                                    class="case-image"
                                    loading="lazy"
                                >
                                <span class="case-label" data-en="Before" data-ar="قبل">Before</span>
                            </div>

                            <!-- After Image -->
                            <div class="case-image-wrapper after">
                                <img 
                                    src="{{ print "images/" $case.after | relURL }}"
                                    alt="After"
                                    class="case-image"
                                    loading="lazy"
                                >
                                <span class="case-label" data-en="After" data-ar="بعد">After</span>
                            </div>

                        </div>

                        <div class="case-description">
                            <p
                                data-en="{{ $case.description }}"
                                data-ar="{{ (index (index $.Site.Data.ar.clinical_cases $catIndex).cases $caseIndex).description }}"
                            >
                                {{ $case.description }}
                            </p>
                        </div>

                    </div>

                    {{ end }} <!-- END CASES LOOP -->

                </div>
            </div>

            {{ end }} <!-- END ENABLE CHECK -->

        {{ end }} <!-- END CATEGORY LOOP -->

    </div>
</section>
